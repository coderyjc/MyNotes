## Matlab基础知识

> 科学计算软件



### 常识

变量命名：

- 大小写敏感
- 第一个字母必须是英文字母
- 可以有英文字母、下划线、数字
- 变量名最多63个字符



### 常见的通用命令

| 命令      | 含义                      |
| --------- | ------------------------- |
| clc       | 清除命令行窗口的内容      |
| clear     | 清除workspace中的所有变量     |
| clear x y z... | 清除workspace中的变量x, y, z等     |
| who、whos | 显示workspace中的变量信息 |
| help、doc | 在线帮助文档              |

- 一行中可以写多个命令，用分号隔开
- 用分号隔开的命令不会显示变量的值
- 较长的表达式可以在行尾加上三点（ ... ）省略号进行续行输入

路径相关问题

```matlab
path % 查看搜索路径
cd % 当前工作目录

userpath('Path') % 修改当前工作路径
savepath % 保存路径修改

pathtool % 打开路径管理工具的图形化窗口
```



**精度控制**

默认数据类型为 `double`

默认是4位小数精度 `short` 格式精度，可以改为15位精度 `format long`，或者四舍五入保留两位小数`format bank`, 用指数形式表示并且精确到4位/15位小数: `format short e` 、`format long e`



### 一些数学函数和变量

| 函数                      | 作用               |
| ------------------------- | ------------------ |
| exp(a)                    | e的a次方           |
| log10(x)                  | 以10为底的x的对数  |
| log(x)                    | x的自然对数        |
| sin(x) ; cos(x) ; tan(x)  | 三角函数（弧度）   |
| asin(s); acos(x); atan(x) | 反三角函数（弧度） |

| 变量名 | 意义                      |
| ------ | ------------------------- |
| ans    | 最近计算的结果            |
| eps    | 正数的极小值 = 2.2204e-16 |
| pi     | Π                         |
| inf    | ∞                         |
| i、j   | 虚数单位                  |
| NaN    | not a number              |

- matlab启动时加载这些变量
- 被0除不会引起程序中断
- 用户可以临时覆盖这些变量， 但是在重启matlab或者clear之后会重新加载

左除和右除是不一样的， `a/b` 是右除，表示a/b, `a\b` 是左除，表示 b/a



### 复数运算

| 函数     | 作用                   |
| -------- | ---------------------- |
| real(z)  | 实部（笛卡尔坐标表示） |
| imag(z)  | 虚部（笛卡尔坐标表示） |
| angle(z) | 幅角（极坐标表示）     |
| abs(z)   | 模（极坐标表示）       |







## 向量与矩阵

| 语句                           | 作用                        |
| ------------------------------ | --------------------------- |
| `x = [1 2 3] 、 x = [1, 2, 3]` | 创建行向量                  |
| `x = [1; 2; 3]`                | 创建列向量                  |
| x' (单引号)                    | 转置                        |
| x = [1 2 3]'                   | 创建列向量                  |
| x(a, b)                        | 取出x向量的第a行第b列的数值 |

从已有变量创建新变量 `a = [1 2 3]; b = [2 3 4] c = [a; b];` 用空格链接表示并排组合，用分号连接表示上下组合排列

**创建等差元素的向量**

首元素为x1，跨度为q，q默认为1，末尾元素为x2，左闭右闭。

`x = [x1: q: x2]`

注意：向量的乘方应该在运算符前面加上句号（.）

| 语句              | 作用                            |
| ----------------- | ------------------------------- |
| linspace(a, b)    | 创建a和b之间含有100个元素的向量 |
| linspace(a, b, n) | 创建a和b之间含有n个元素的向量   |
| logspace(a, b, n) | 创建n个对数值相隔相同的向量     |

**函数创建向量**

`help elmat` 获取的矩阵生成和操作函数列表

| 函数                      | 作用            |
| ------------------------- | --------------- |
| ones(n)， ones(m,n)       | 生成全是1的矩阵 |
| zeros(n)，zeros(m,n)      | 生成全是0的矩阵 |
| reshape(n), reshape(m, n) | 重塑矩阵        |

reshape的时候：

- 数组元素的排列顺序从上到下按列排列
- 数组的元素总数不变



### **特征化向量**

向量的*操作前面要加上点号

| 语句          | 作用                                   |
| ------------- | -------------------------------------- |
| length(A)     | 返回向量中元素的个数（行列向量、矩阵） |
| max(A)/min(A) | 向量中最大最小的元素                   |

如果变量中有复数，在用（.*）计算模的时候必须计算其共轭复数，用原向量 .\*共轭向量

`conj(A)` 计算A向量的共轭复数向量

`abs(A)` A向量的绝对值



### **向量的点乘和叉乘**

| 语句      | 作用                 |
| --------- | -------------------- |
|           |                      |
| dot(a, b) | a和b的点乘（数量积） |

dot(a, a) 计算向量的模，适用于复数向量

---





## MATLAB应用举例



**求解方程的根**
$$
2x^5-3x^3+71x^2-9x+13=0
$$

```matlab
% 建立多项式系数行向量
% 每一个系数
p = [2, 0, -3, 71, -9, 13];
x = roots(p); % 求根
```

**求解线性方程组**
$$
\begin{cases} 
2x+3y-z=2 \\8x+2y+3z=4 \\45x+3y+9z=23
\end{cases}
$$

```matlab
a = [2, 3, -1; 8, 2, 3; 45, 3, 9]; % 建立系数矩阵a
b = [2; 4; 23]; % 建立列向量b
z = inv(a) * b;
```

$$
原方程组可化为
\begin{cases} 
2x+3y-z-2=0 \\8x+2y+3z-4=0 \\45x+3y+9z-23=0
\end{cases}
$$

```matlab
syms x y z; % 声明变量
[x, y ,z] = solve(2*x+3*y-z-z, 8*x+2*y+3*z-4, 45*x+3*y+9*z-23); % 求解变量
```

**求解定积分**
$$
\int_{0}^{1}{x\ln(1+x)}dx
$$

```matlab
quad('x.*log(1+x)', 0, 1);
```

**多项式曲线拟合**

<img src=".\MATLAB.imgs\image-20210308162050858.png" alt="image-20210308162050858" style="zoom:75%; float:left" />

```matlab
% 考虑以下实验数据
x = [1:1:10];
y = [1.2, 3, 4, 4, 5, 4.7, 5, 5.2, 6, 7.2];

% 一次多项式拟合
p1 = polyfit(x, y, 1);

% 三次多项式拟合
p3 = polyfit(x, y, 3);

% 画出原始数据和拟合曲线
x2 = 1:0.1:10;
y1 = polyval(p1, x2);
y3 = polyval(p3, x2);

% 3个一组，两个变量和变量的显示形式。
plot(x, y, '*', x2, y1, ':', x2, y3);
```


