
在这一节我们将重写 HTML 模板，创建一个 **master page(母版页)**，其他模板添加它所独特的部分。

在 **templates** 文件夹中创建一个名为 **layout.html** 的文件：

```html
{% load static %}  
<!DOCTYPE html>  
<html>  
  <head>  
    <meta charset="utf-8">  
    <title>{% block title %}Django Boards{% endblock %}</title>  
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">  
  </head>  
  <body>  
    <div class="container">  
      <ol class="breadcrumb my-4">  
        {% block breadcrumb %}  
        {% endblock %}  
      </ol>  
      {% block content %}  
      {% endblock %}  
    </div>  
  </body>  
</html>
```

这是我们的母版页。每个我们创建的模板都 **extend(继承)** 这个特殊的模板。现在我们介绍 `{% block %}` 标签。它用于在模板中保留一个空间，一个"子"模板(继承这个母版页的模板)可以在这个空间中插入代码和 HTML。

在 `{% block title %}` 中我们还设置了一个默认值 "Django Boards."。如果我们在子模板中未设置 `{% block title %}` 的值它就会被使用。

现在让我们重写我们的两个模板： **index.html** 和 **topics.html**。

```html
{% extends 'layout.html' %}  
  
{% block breadcrumb %}  
  <li class="breadcrumb-item active">Boards</li>  
{% endblock %}  
  
{% block content %}  
  <table class="table">  
    <thead class="thead-inverse">  
      <tr>  
        <th>Board</th>  
        <th>Posts</th>  
        <th>Topics</th>  
        <th>Last Post</th>  
      </tr>  
    </thead>  
    <tbody>  
      {% for board in boards %}  
        <tr>  
          <td>  
            <a href="{% url 'board_topics' board.pk %}">{{ board.name }}</a>  
            <small class="text-muted d-block">{{ board.description }}</small>  
          </td>  
          <td class="align-middle">0</td>  
          <td class="align-middle">0</td>  
          <td></td>  
        </tr>  
      {% endfor %}  
    </tbody>  
  </table>  
{% endblock %}
```

**home.html** 的第一行是 `{% extends 'base.html' %}`。这个标签用来告诉 Django 使用 **base.html** 作为母版页。之后，我们使用 _blocks_ 来放置这个页面独有的部分。

**templates/topics.html**

```html
{% extends 'layout.html' %}  
  
{% block title %}  
  {{ board.name }} - {{ block.super }}  
{% endblock %}  
  
{% block breadcrumb %}  
  <li class="breadcrumb-item"><a href="{% url 'home' %}">Boards</a></li>  
  <li class="breadcrumb-item active">{{ board.name }}</li>  
{% endblock %}  
  
{% block content %}  
    <!-- just leaving it empty for now. we will add core here soon. -->  
{% endblock %}
```

在 **topics.html** 中，我们改变了 `{% block title %}` 的默认值。注意我们可以通过调用 `{{ block.super }}` 来重用 block 的默认值。这里我们使用的网页标题是 **base.html** 中定义的 "Django Boards"。所以对于 "Python" 的 board 页面，这个标题是 "Python - Django Boards",对于 "Random" board 标题会是 "Random - Django Boards"。

我们可以在顶部导航栏中添加一个nav-bar

**layout.html**

```python
{% load static %}<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>{% block title %}Django Boards{% endblock %}</title>
    <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
  </head>
  <body>

    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
      <div class="container">
        <a class="navbar-brand" href="{% url 'home' %}">Django Boards</a>
      </div>
    </nav>

    <div class="container">
      <ol class="breadcrumb my-4">
        {% block breadcrumb %}
        {% endblock %}
      </ol>
      {% block content %}
      {% endblock %}
    </div>
  </body>
</html>
```


![[assets/Pasted image 20230226150748.png]]