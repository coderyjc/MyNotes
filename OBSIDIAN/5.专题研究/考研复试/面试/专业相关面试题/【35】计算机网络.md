## 【35】计算机网络

计算机网络体系结构？
网络协议的三个核心要素，及概念，各起什么作用？
网络按地域范围分类？
网络按使用者分类？
网络的拓扑结构主要有？
什么是局域网？
什么是码元？什么是码元长度？
谈谈对网络延时的理解，为什么会出现网络延时？
以太局域网第二层可靠吗？
IP 组播有哪些好处？
IP 编址有那几种方式？
IP 与物理地址分别作用在那一层？
交换机与路由器、谈谈其在网络中的作用与工作原理？
路由器的功能和原理？
路由器工作在网络分层中的哪个层次？
网桥的作用？
子网掩码的作用？
与 TP 协议配套的其他协议？
什么是二次握手协议？
什么是三次握手协议？
TCP/IP 网络协议的核心是什么，如何引出“over everything”和“everything over？”
BGP 协议？
**TCP、UDP 协议？他们的区别？**
距离说明什么情况适合使用 tcp 协议和 udp 协议？
PPP 协议？
ICMP 协议？
HTTP 协议？

Ipconfig 的作用是什么？
当你点击一个链接的时候整个过程是怎样的？

> ARP 协议？

**是什么**：地址解析协议（Address Resolution Protocol）。每台主机都设有一个ARP高速缓存，用来存放本局域网上各主机和路由器的IP地址到MAC地址的映射表，称ARP表。使用ARP来动态维护此ARP表。

**工作原理**：*【本局域网】* 主机A欲向本局域网上的某台主机B发送IP数据报时，先在其ARP高速缓存中查看有无主机B的IP地址。如果有，就可查出其对应的硬件地址，再将此硬件地址写入MAC帧，然后通过局域网将该MAC帧发往此硬件地址。如果没有，那么就通过使用目的MAC地址为FFFF-FF-FF-FF-FF的帧来封装并广播ARP请求分组（广播发送），使同一个局域网里的所有主机都收到此ARP请求。主机B收到该ARP请求后，向主机A发出ARP响应分组（单播发送），分组中包含主机B的IP与MAC地址的映射关系，主机A收到ARP响应分组后就将此映射写入ARP缓存，然后按查询到的硬件地址发送MAC帧。*【不同局域网】* 就要通过ARP找到一个位于本局域网上的某个路由器的硬件地址，然后把**分组**发送给这个路由器，让这个路由器把**分组**转发给下一个网络。剩下的工作就由下一个网络来做。

*扩展：为什么工作在网络层？* ARP由于“看到了”IP地址，所以它工作在网络层，而NAT路由器由于“看到了”端口，所以它工作在传输层。对于某个协议工作在哪个层次，读者应该能通过协议的工作原理进行猜测。

> 介绍一下 DHCP 协议

**是什么**：动态主机配置协议（Dynamic Host Configuration Protocol）常用于给主机动态地分配IP地址，这种机制允许一台计算机加入新的网络和获取IP地址而不用手工参与。DHCP是==基于UDP的应用层协议==。

**工作原理**：基于客户/服务器模式。需要IP地址的主机在启动时就向DHCP服务器广播发送发现报文，这时该主机就成为DHCP客户。本地网络上所有主机都能收到此广播报文，但只有DHCP服务器才回答此广播报文。DHCP服务器先在其数据库中查找该计算机的配置信息。若找到，则返回找到的信息。若找不到，则从服务器的IP地址池中取一个地址分配给该计算机。

**工作过程**：
1. DHCP客户机广播“**DHCP发现**”消息，试图找到网络中的DHCP服务器，以便从DHCP服务器获得一个IP地址。源地址为0.0.0.0，目的地址为255.255.255.255。
2. DHCP服务器收到“DHCP发现”消息后，广播“**DHCP提供**”消息，其中包括提供给DHCP客户机的IP地址。源地址为DHCP服务器地址，目的地址为255.255.255.255。
3. DHCP客户机收到“DHCP提供”消息，如果接受该IP地址，那么就广播“**DHCP请求**”消息向DHCP服务器请求提供IP地址。源地址为0.0.0.0，目的地址为255.255.255.255。
4. DHCP服务器广播“**DHCP确认**”消息，将IP地址分配给DHCP客户机。源地址为DHCP服务器地址，目的地址为255.255.255.255。

*扩展：为什么需要广播交互*：DHCP的客户端和服务器端需要通过广播方式来进行交互，原因是在DHCP执行初期，客户端不知道服务器端的IP地址，而在执行中间，客户端并未被分配IP地址，从而导致两者之间的通信必须采用广播的方式。

*扩展：为什么使用UDP而不是TCP*：采用UDP而不采用TCP的原因也很明显：TCP需要建立连接，如果连对方的IP地址都不知道，那么更不可能通过双方的套接字建立连接。

> TFTP 协议？

TFTP（Trivial File Transfer Protocol，小型文件传输协议）是一种简单、轻量级的文件传输协议，相对于FTP（File Transfer Protocol）而言，它的功能更为简单，但也更加高效。基于UDP协议，UDP的优势在于简单、轻量，并且无需进行连接建立和断开。它设计简单，易于实现和部署，但安全性较低，通常用于局域网或受信任的网络环境中。TFTP支持从服务器下载文件到客户端和将文件从客户端上传到服务器两种操作模式。

> DNS 含义、谈谈对其的理解？

**定义**：域名系统（Domain Name System，DNS）是一种命名系统，用来把具有特定含义的主机名转换为便于机器处理的IP地址。DNS系统采用客户/服务器模型，其协议运行在UDP之上。

我将从3个方面聊一下DNS：层次域名空间、域名服务器和域名解析。

**层次域名空间**：DNS使用域名层次结构来组织和管理域名。域名由多个部分组成，每个部分之间用点号（.）分隔，例如www.example.com。域名层次结构从右向左逐级划分为顶级域（TLD）、二级域、三级域，以此类推，形成一个树状结构。

**域名服务器**：DNS服务器根据功能和位置的不同，可以分为多个类型，包括根DNS服务器、顶级域DNS服务器、权威DNS服务器和递归DNS服务器等。它们各自承担着不同的责任和角色，共同构建了完整的DNS系统。

**域名解析**：DNS的主要功能是将域名解析为相应的IP地址。当用户在浏览器中输入一个域名时，操作系统会向本地DNS服务器发送查询请求，以获取该域名对应的IP地址。

域名解析有两种方法：递归查询和递归与迭代相结合的查询。

1. <u>递归查询</u>：一般不使用。对根域名服务器造成负载过大。本机 - 本地域名服务器 - 根域名服务器 - 顶级域名服务器 - 权限域名服务器。
2. <u>递归和迭代相结合的查询</u>：
	1. 客户机向其本地域名服务器发出DNS请求报文（递归查询）。
	2. 本地域名服务器收到请求后，查询本地缓存，若没有该记录，则以DNS客户的身份向根域名服务器发出解析请求报文（迭代查询）。
	3. 根域名服务器收到请求后，判断该域名属于.com域，将对应的顶级域名服务器dns.com的IP地址返回给本地域名服务器。
	4. 本地域名服务器向顶级域名服务器dns.com发出解析请求报文（选代查询）。
	5. 顶级域名服务器dns.com收到请求后，判断该域名属于abc.com域，因此将对应的授权域名服务器dns.abc.com的IP地址返回给本地域名服务器。
	6. 本地域名服务器向授权域名服务器dns.abc.com发起解析请求报文（选代查询）。
	7. 授权域名服务器dns.abc.com收到请求后，将查询结果返回给本地域名服务器。
	8. 本地域名服务器将查询结果保存到本地缓存，同时返回给客户机。

> SNMP 协议？

