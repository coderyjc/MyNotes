---
desc: 组件化开发入门
complete: false
---

## 组件化开发入门


- 全局组件：在任何其他的组件中都可以使用的组件；

- 局部组件：只有在注册的组件中才能使用的组件；

### 全局组件的注册

全局组件需要使用我们全局创建的app来注册组件；

通过component方法传入组件名称、组件对象即可注册一个全局组件了；

之后，我们可以在App组件的template中直接使用这个全局组件：

全局组件的特点: 一旦注册成功后, 可以在任意其他组件的template中使用，也就是说，如果我们先注册了header，再注册了nav，那么我们可以在nav中使用header。理解起来很简单，根组件app是最后注册的，也就是说我们可以在根组件app中使用各种注册的组件。

==全局组件==

最终渲染位置

```html
<div id="app">
<!-- 1.内容一: -->
<product-item></product-item>
<!-- 2.内容二: -->
<product-item></product-item>
<!-- 3.内容三: -->
<product-item></product-item>
</div>
```

组件模版

```html
<!-- 组件product-item的模板 -->
<template id="item">
<div class="product">
  <h2>我是商品</h2>
  <div>商品图片</div>
  <div>商品价格: <span>¥9.9</span></div>
  <p>商品描述信息, 9.9秒杀</p>
</div>
</template>
```

全局组件的使用

```js
/*
  1.通过app.component(组件名称, 组件的对象)
  2.在App组件的模板中, 可以直接使用product-item的组件
*/

// 1.组件: App组件(根组件)
const App = {}

// 2.创建app
const app = Vue.createApp(App)

// 3.注册一个全局组件
// product-item全局组件
app.component("product-item", {
  template: "#item"
})

// 2.挂载app
app.mount("#app")
```

==组件自己的逻辑==

组件模版

```html
<template id="product">
<div class="product">
  <h2>{{title}}</h2>
  <p>商品描述, 限时折扣, 赶紧抢购</p>
  <p>价格: {{price}}</p>
  <button @click="favarItem">收藏</button>
</div>
</template>
```

组件逻辑

```js
// 2.注册全局组件
app.component("product-item", {
  template: "#product",
  data() {
	return {
	  title: "我是商品Item",
	  price: 9.9
	}
  },
  methods: {
	favarItem() {
	  console.log("收藏了当前的item")
	}
  }
})
```


### 组件的名称

**方式一：使用kebab-case（短横线分割符）**

当使用 kebab-case (短横线分隔命名) 定义一个组件时，你也必须在引用这个自定义元素时使用 kebab-case，例如 `<my-component-name>`

```js
app.component("my-component-name", {
			  
})
```

```html
<my-component-name></my-component-name>
```

**方式二：使用PascalCase（驼峰标识符）**

当使用 PascalCase (首字母大写命名) 定义一个组件时，你在引用这个自定义元素时两种命名法都可以使用。

也就是说 `<my-component-name>` 和 `<MyComponentName>` 都是可接受的；

```js
app.component("MyComponentName", {
			  
})
```

```html
<my-component-name></my-component-name>

<MyComponentName></MyComponentName>
```


### 注册局部组件

注册组件但不使用的时候，在构建项目的时候仍然会进行打包，因此我们在使用组件的时候通常选择局部注册。

局部注册是在我们需要使用到的组件中，通过components属性选项来进行注册；

比如之前的App组件中，我们有data、computed、methods等选项了，事实上还可以有一个components选项；

该components选项对应的是一个对象，对象中的键值对是 组件的名称: 组件对象；

组件中也可以继续注册组件。

```html
  <div id="app">
    <home-nav></home-nav>
    <product-item></product-item>
    <product-item></product-item>
    <product-item></product-item>
  </div>
  
  <template id="product">
    <div class="product">
      <h2>{{title}}</h2>
      <p>商品描述, 限时折扣, 赶紧抢购</p>
      <p>价格: {{price}}</p>
      <button>收藏</button>
    </div>
  </template>

  <template id="nav">
    <div>-------------------- nav start ---------------</div>
    <h1>我是home-nav的组件</h1>
    <product-item></product-item>
    <div>-------------------- nav end ---------------</div>
  </template>
```

组件注册

```js
 components: {
	ProductItem,
	HomeNav: {
	  template: "#nav",
	  components: {
		ProductItem
	  }
	}
  },
```


### SFC开发模式

在真实开发中，我们可以通过一个后缀名为 .vue 的single-file components (单文件组件) 来解决，并且可以使用webpack或者vite或者rollup等构建工具来对其进行处理

==如何支持SFC==

方式一：使用Vue CLI来创建项目，项目会默认帮助我们配置好所有的配置选项，可以在其中直接使用.vue文件；
 
方式二：自己使用webpack或rollup或vite这类打包工具，对其进行打包处理

