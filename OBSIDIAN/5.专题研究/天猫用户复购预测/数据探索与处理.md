## 缺失值处理

### 寻找缺失值

count()函数可以统计不为空数据的个数
shape()函数则可以统计数据样本的个数

```python
(user_info.shape[0]-user_info['age_range'].count()) /user_info.shape[0]

# 输出为0.00522667798288422
```


### 缺失值处理

Pandas包中包含了一些处理缺失值的函数

| 方法    | 说明                                                                             |
| ------- | -------------------------------------------------------------------------------- |
| dropna  | 根据各标签中的值是否存在缺失数据对轴标签进行过滤，可通过阔值调节对缺失值的容忍度 |
| fillna  | 用指定值或插值方法（如ffill或bfil1）填充缺失值                                   |
| isnull  | 返回一个含有bool型的对象，这些bool型的值表示哪些是缺失值NaN                      |
| notnull | isnull的否定式                                                                   |

缺失值较少时进行填充
数据缺失特别严重的数据，一般将其删除处理

数据填充方法

| 处理方法   | 说明                                                                                                       |
| ---------- | ---------------------------------------------------------------------------------------------------------- |
| 统计量填充 | 连续值：推荐使用中位数，排除一些特别大或特别小的异常值造成的影响；离散值：推荐使用众数，不能用均值和中位数 |
| 特殊值填充 | 填一个不在正常取值范围内的数值，如使用-999，0等表示缺失值                                                  |
| 不处理     | XGB（XGBoost）和LGB（LightGBM）这两种比赛常用的预测模型对缺失值并不敏感，**算法本身有一套缺失值处理算法**      |

常用的插值方法说明

| 插补方法   | 说明                                              | 优点     | 缺点                                 | 使用环境     |
| ---------- | ------------------------------------------------- | -------- | ------------------------------------ | ------------ |
| 类均值插补 | 数值型：均值 ；非数值型：众数（出现频率最高的值） | 简单稳定 | 不能反映缺失值的变异性，低估资料变异 | 低缺失率首选 |
| 类随机插补           |                     聚类填充：使用所有可能的值填充：组合完整化方法                              |          |                                      |              |
|            |                                                   |          |                                      |              |


