
> https://github.com/xuqifzz/hades-mod-tutorial/compare/%E9%81%A5%E8%BF%9C%E7%9A%84%E8%AE%B0%E5%BF%86%E5%90%B8%E8%A1%80%E6%95%88%E6%9E%9C

> [!info] Attention
> 
> 游戏根目录在 `steam\steamapps\common\Hades`
> 
> 游戏脚本在 `steam\steamapps\common\Hades\Content`

---

文件：`Scripts/TraitData.lua`
行数：18992

在对象中添加以下代码

```lua
		AddOutgoingLifestealModifiers =
		{
			ValidMultiplier = 0.05,
			MaxLifesteal = 1,
			MinLifesteal = 1,
			ExtractValues =
			{
				{
					Key = "MinLifesteal",
					ExtractAs = "TooltipLifesteal",
				},
			}
		},
```

![[assets/Pasted image 20230116222459.png]]

---

**原理**

查看信物文件 `Scripts/GiftDatal.lua`

遥远的记忆 信物，对应的是第11行

![[assets/Pasted image 20230116230631.png]]

记住这个Trait，去描述Trait的文件中找到这个Trait

在 `Scripts/TraitData.lua` 中，搜索 `DistanceDamageTrait`

![[assets/Pasted image 20230116233538.png]]

定位到了18992行

我们需要在这里面添加信物的特性

考虑到关刀有吸血特新，我们可以把关刀的吸血特性挪到这里来

关刀的吸血特性是 `SwordCursedLifeStealTrait` 在同一个文件中搜索就行了

![[assets/Pasted image 20230116233924.png]]

可以看到这个吸血特性定义在了 `AddOutgoingLifestealModifiers`中

把这个特性复制到信物的特性里面即可，但是要注意里面有一行生效武器，直接删掉就可以了

最终是把以下内容添加到信物中

```lua
		AddOutgoingLifestealModifiers =
		{
			--ValidWeapons = {"SwordWeapon", "SwordWeapon2", "SwordWeapon3" },
			ValidMultiplier = 0.05,
			MaxLifesteal = 2,
			MinLifesteal = 2,
			ExtractValues =
			{
				{
					Key = "MinLifesteal",
					ExtractAs = "TooltipLifesteal",
				},
			}
		},
```