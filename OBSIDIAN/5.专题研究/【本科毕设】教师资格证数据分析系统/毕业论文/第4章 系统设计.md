---
wordCount: 4321
charCount: 6944
done: 
---

# 第4章 系统设计

## 系统架构

教师资格考试数据分析系统的总体架构设计主要由浏览器访问层，交互层，后端以及基础设施组成四方面组成。一方面，该架构符合稳定的完整 Web 系统开发体系；另一方面，分别通过采用前端的 Vue 框架和后端 SpringBoot框架技术，实现完全的前后端分离式开发，解决传统MVC开发模式下前后端紧凑耦合问题，减轻服务端压力，降低人力成本，提高开发效率。

在前后端分离的开发模式中，后端仅返回前端所需的数据，前端负责渲染HTML页面、路由等信息，并主动决定后端返回数据的加载方式，而后端不再控制前端的显示效果，如下图所示：

![[assets/Pasted image 20230426103418.png]]

## 界面设计

界面设计要符合人机界面设计的原则，保证系统操作简单和细节透明，因此本系统界面决定采用单页面开发方式，使用Vue.js 3框架进行开发，搭配Element Plus进行界面搭建。

本系统采用单页面应用开发（SPA），是因为单页面开发主要有以下优点：

1. 更好的用户体验：单页面应用底层使用AJAX技术，可以实现无刷新的页面更新，用户不需要重复加载整个页面，可以更快地响应用户请求，提供更流畅的用户体验。

2. 更高的性能：单页面应用可以在客户端存储和缓存数据，减少网络请求，提高响应速度和使用效率。

3. 更容易维护和更新：单页面应用只有一个单独的页面，没有复杂的多页面架构，因此更容易理解、维护和更新。

4. 良好的可扩展性：单页面应用的设计可以轻松实现多个组件的协作，提供更强的扩展性。

## 功能设计

本系统主要功能由用户管理、数据管理和数据分析三个模块构成，系统结构图如图所示

![[assets/Pasted image 20230428120120.png]]

### 登录功能

登录功能的主要作用是让指定用户进入系统并使用系统，登录功能的UML序列图如图所示：

![[assets/Pasted image 20230428120329.png]]

### 数据大屏功能

数据大屏功能分为两个部分，一个是工作台，另一个是数据大屏。

工作台的主要功能是显示系统中特定表的目前的数据总数，以及每一年的数据条数以及变化趋势。以下是工作台的UML序列图：

![[assets/Pasted image 20230428120417.png]]

数据大屏功能的主要作用是显示当前年份的报考人的具体信息，比如人数的最高学历、男女比例、考试类型、河北省省内的报考人数等。以下是数据大屏的UML序列图：

![[assets/Pasted image 20230428120511.png]]

### 数据管理功能

#### 笔试成绩数据管理

（1）数据查询

笔试数据查询之前需要用户在页面填写笔试成绩数据查询表单，提交之后将数据发送到后端控制器WrittenScoreContrller，控制器会调用笔试成绩管理服务填充查询字段并进行分页查询，最后返回数据到前端进行数据展现。

![[assets/Pasted image 20230428120530.png]]

（2）数据添加

添加笔试数据需要用户在前端管理页面填写相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428124748.png]]

（3）数据删除

用户在页面点击删除并且进行二次确认之后，页面向后端控制器携带id发送请求，控制器接收到请求之后根据id删除对应的信息。

![[assets/Pasted image 20230428120558.png]]

（4）数据修改

修改笔试数据需要用户在前端管理页面点击编辑按钮之后修改相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428120609.png]]

（5）数据导入

数据导入需要用户选择自己计算机上的Excel文件并上传，在上传的时候前端会进行文件类型校验，用户只能上传.xls和.xlsx文件，上传文件之后系统会调用文件导入服务将文件转换为实体类列表并插入数据库。

![[assets/Pasted image 20230428120620.png]]

（6）数据导出

数据导出方式有两个，当用户在前端的数据表中选择了数据之后，可以导出选择的数据，除此之外，用户还可以先进行搜索查询，直接导出搜索的结果。

![[assets/Pasted image 20230428120632.png]]

#### 面试成绩数据管理

（1）数据查询

面试数据查询之前需要用户在页面填写面试成绩数据查询表单，提交之后将数据发送到后端控制器InterviewScoreContrller，控制器会调用面试成绩管理服务填充查询字段并进行分页查询，最后返回数据到前端进行数据展现。

![[assets/Pasted image 20230428122441.png]]

（2）数据添加

添加面试数据需要用户在前端管理页面填写相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428122338.png]]

（3）数据删除

用户在页面点击删除并且进行二次确认之后，页面向后端控制器携带id发送请求，控制器接收到请求之后根据id删除对应的信息。

![[assets/Pasted image 20230428122358.png]]

（4）数据修改

修改面试数据需要用户在前端管理页面点击编辑按钮之后修改相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428122454.png]]

（5）数据导入

数据导入需要用户选择自己计算机上的Excel文件并上传，在上传的时候前端会进行文件类型校验，用户只能上传.xls和.xlsx文件，上传文件之后系统会调用文件导入服务将文件转换为实体类列表并插入数据库。

![[assets/Pasted image 20230428122423.png]]

（6）数据导出

数据导出方式有两个，当用户在前端的数据表中选择了数据之后，可以导出选择的数据，除此之外，用户还可以先进行搜索查询，直接导出搜索的结果。

![[assets/Pasted image 20230428122408.png]]

#### 认定数据管理

（1）数据查询

认定数据查询之前需要用户在页面填写认定数据查询表单，提交之后将数据发送到后端控制器IdentificationContrller，控制器会调用认定数据管理服务填充查询字段并进行分页查询，最后返回数据到前端进行数据展现。

![[assets/Pasted image 20230428122731.png]]

（2）数据添加

添加认定信息数据需要用户在前端管理页面填写相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428125145.png]]

（3）数据删除

用户在页面点击删除并且进行二次确认之后，页面向后端控制器携带id发送请求，控制器接收到请求之后根据id删除对应的信息。

![[assets/Pasted image 20230428125530.png]]

（4）数据修改

修改认定数据需要用户在前端管理页面点击编辑按钮之后修改相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428125811.png]]

（5）数据导入

数据导入需要用户选择自己计算机上的Excel文件并上传，在上传的时候前端会进行文件类型校验，用户只能上传.xls和.xlsx文件，上传文件之后系统会调用文件导入服务将文件转换为实体类列表并插入数据库。

![[assets/Pasted image 20230428122720.png]]

（6）数据导出

数据导出方式有两个，当用户在前端的数据表中选择了数据之后，可以导出选择的数据，除此之外，用户还可以先进行搜索查询，直接导出搜索的结果。

![[assets/Pasted image 20230428122702.png]]

#### 证书数据管理

（1）数据查询

证书数据查询之前需要用户在页面填写证书数据绩数据查询表单，提交之后将数据发送到后端控制器CertificationContrller，控制器会调用证书数据管理服务填充查询字段并进行分页查询，最后返回数据到前端进行数据展现。

![[assets/Pasted image 20230428123103.png]]

（2）数据添加

添加证书信息数据需要用户在前端管理页面填写相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428125240.png]]

（3）数据删除

用户在页面点击删除并且进行二次确认之后，页面向后端控制器携带id发送请求，控制器接收到请求之后根据id删除对应的信息。

![[assets/Pasted image 20230428125609.png]]

（4）数据修改

修改证书数据需要用户在前端管理页面点击编辑按钮之后修改相关的信息，并需要在前端进行校验，如果没有通过前端的数据校验，应该重新填写相关信息，在通过前端校验之后，提交数据之后发送到后端控制器，在控制器中填充实体类并插入数据库。

![[assets/Pasted image 20230428125857.png]]

（5）数据导入

数据导入需要用户选择自己计算机上的Excel文件并上传，在上传的时候前端会进行文件类型校验，用户只能上传.xls和.xlsx文件，上传文件之后系统会调用文件导入服务将文件转换为实体类列表并插入数据库。

![[assets/Pasted image 20230428123051.png]]

（6）数据导出

数据导出方式有两个，当用户在前端的数据表中选择了数据之后，可以导出选择的数据，除此之外，用户还可以先进行搜索查询，直接导出搜索的结果。

![[assets/Pasted image 20230428123037.png]]

### 数据分析与可视化功能

#### 笔试成绩数据分析与可视化功能

（1）统计图生成

笔试成绩

![[assets/Pasted image 20230428120703.png]]

（2）统计表的导出



![[assets/Pasted image 20230428120714.png]]

#### 面试成绩数据分析与可视化功能

（1）统计图生成

![[assets/Pasted image 20230428121718.png]]

（2）统计表的导出

![[assets/Pasted image 20230428121729.png]]

#### 认定数据分析与可视化功能

（1）统计图生成

![[assets/Pasted image 20230428121911.png]]

（2）统计表的导出

![[assets/Pasted image 20230428121923.png]]


#### 证书数据分析与可视化功能

（1）统计图生成

![[assets/Pasted image 20230428122032.png]]

（2）统计表的导出

![[assets/Pasted image 20230428122045.png]]

### 用户管理功能

#### 添加用户

![[assets/Pasted image 20230428120738.png]]

#### 修改密码

![[assets/Pasted image 20230428120748.png]]

#### 删除用户

![[assets/Pasted image 20230428120758.png]]

## 数据库设计

### ER图

数据库分离的E-R图如下：

（1）认定信息实体主要包括：主键（自增无意义）、资格种类（高校，中学等）、最高学位、认定批次、确认地点、证件号码（身份证或者大陆通行证）、毕业院校、认定机构、考试类型（是不是国考）、机构类型、任教学科、教师资格证书号码、所学专业、市、姓名、最高学历、专业类别、性别。认定信息的E-R图如图所示：

![[assets/Pasted image 20230426184912.png]]

（2）笔试成绩实体主要包括：主键（自增、无意义）姓名、准考证号、身份证号、教育学成绩、教育心理学成绩、职业道德修养和高等教育法规成绩、教育学考试状态、教育心理学考试状态、职业道德修养和高等教育法规状态、工作单位、考试时间、性别。笔试成绩的ER图如图所示：

![[assets/Pasted image 20230426185240.png]]

（3）面试成绩实体主要包括：主键、考试地点（测试点）、姓名、身份证号、工作单位、申请专业、等级（ABCD缺考）、考试时间、性别。面试成绩的ER图如图所示：

![[assets/Pasted image 20230426185601.png]]

（4）证书实体主要包括：主键（无意义，自增）身份证号、姓名、面试年份、合格证号、专业、有效期、性别。证书实体的ER图如图所示：

![[assets/Pasted image 20230426190007.png]]

（5）笔试成绩统计表实体主要包括：年份、教育学平均成绩、教育学通过率、教育学及格分、教育心理学平均成绩、教育心理学通过率、教育心理学及格分、职业道德平均分数、职业道德通过率、思修及格分、当年三科都通过的通过率。笔试成绩统计表的ER图如图所示：

![[assets/Pasted image 20230426191745.png]]

（6）城市id表实体主要包括：城市和id的对应。城市id表的ER图如图所示：

![[assets/Pasted image 20230426191322.png]]

（7）备份表实体主要包括：主键（无意义）、表名、文件名、备份时间、备注。备份表的ER图如图所示：

![[assets/Pasted image 20230426191836.png]]

（8）用户表实体主要包括：用户名、用户密码、创建时间。用户表的ER图如图所示：

![[assets/Pasted image 20230426191052.png]]

系统整体的基本ER图如下：

![[assets/Pasted image 20230426193024.png]]

### 数据库表的设计

在本系统中，将数据分为笔试成绩数据、面试成绩数据、证书数据、认定数据等种类，需要根据数据库关系来对数据库的逻辑结构加以设定，从而形成合乎真实情况的数据库系统表。本系统所用数据库表如下图所示:

认定信息主要包括资格种类（高校，中学等）、最高学位、认定批次、确认地点、证件号码（身份证或者大陆通行证）、毕业院校、认定机构等字段，表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

笔试成绩主要包括：姓名、准考证号、身份证号、教育学成绩、教育心理学成绩、职业道德修养和高等教育法规成绩等，笔试成绩的数据库表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

面试成绩实体主要包括：考试地点（测试点）、姓名、身份证号、工作单位、申请专业、等级（ABCD缺考）等字段。面试成绩的数据库表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

证书信息主要包括身份证号、姓名、面试年份、合格证号、专业等字段。证书表的数据库表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

笔试成绩统计信息主要包括年份、教育学平均成绩、教育学通过率等信息，笔试成绩统计信息表的表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

城市id表主要包括城市名称和id的对应。城市id表的数据库结构图如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

备份表主要包括表名、文件名、备份时间、备注，备份表的表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中

用户表主要包括用户名、用户密码、创建时间，用户表的表结构如图所示：

这里的表格在`certificate_analysis\resouces\ColumnExcel`中
