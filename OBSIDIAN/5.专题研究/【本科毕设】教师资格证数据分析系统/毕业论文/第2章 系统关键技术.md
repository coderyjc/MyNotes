```ad-note
2000
```

# 第2章 系统关键技术

本章对系统涉及到的关键技术进行分析。本系统采用前后端分离的开发思想，整体基于SpringBoot敏捷式开发框架，配合MyBatis-Plus 框架处理表和实体类的关系映射，使用了MySQL关系型数据库进行存储数据。前端方面使用了Vue.js渐进式开发框架进行开发，并一起使用了Vue.js生态环境中的一系列技术进行开发。

## 前后端分离模式

### 传统MVC模式的缺陷

随着项目的规模逐渐增大和项目架构的不断变革，传统的MVC开发方式的缺陷逐渐显露，以下问题逐渐暴露：

1. 效率低下。JSP+Servlet技术为例，JSP必须运行在Servlet容器（比如Tomcat）中运行。在请求JSP时也需要进行编译，最后被编译Class文件，这些都会占用JVM的内存；另外，每次请求JSP后得到的响应都是Servlet通过输出流对象返回HTML页面，效率上没有直接使用HTML高，因此在运行效率上，这种方式效率比较低。
2. 人员分工不明。在MVC开发模式中，在前端工程师拿到原型图之后，会把HTML页面重写为JSP页面，使用JSP页面进行数据展示，在这种情况下，出错的概率较高，后端开发工程师的任务更重，而且当项目出错的时候，两个部门协调起来比较麻烦。在某些紧急的情况下，后端人员有时候也会做前端的工作。
3. 不利于项目演进。在项目初期开发的时候，使用MVC开发模式进行开发能提高项目的开发效率，但是当项目增加到一定程度，通常会将项目模块进行拆分，但MVC的模块耦合让优化的空间变得有限，因此，原始的前后端耦合的开发方式已经不能满足项目开发的需求。

综上前后端分离的缺陷，我们需要采用更高效的开发方式——前后端分离的开发方式。

### 前后端分离模式

前后端分离是一种项目开发方式，将项目前端和后端的开发分离开来，前端和后端各自独立开发，通过接口进行数据交互。前端负责展示数据和用户交互，后端负责处理业务逻辑和数据存储。使得前端和后端可以独立开发、测试、部署和维护。这种开发方式可以提高开发效率，降低开发成本，同时也可以提高系统的可维护性和可扩展性。前后端分离的开发方式通常使用RESTful API进行数据交互。

![[assets/Pasted image 20230425152307.png]]

前后端分离是一种项目部署方式，项目开发完成之后，前端和后端可以分别部署，可以分别部署在不同的服务器上，并且可以采用动态和静态分离的方式，后端动态部署，前端使用静态页面，不仅可以使用浏览器缓存，还能使用CDN产品提升静态资源访问效率。

前后端



总之，前后端分离的开发方式可以提高开发效率、降低开发成本、提高系统的可维护性和可扩展性。但是，前后端分离的开发方式也需要开发人员具备一定的技术水平和协作能力，才能实现良好的开发效果。

## 后端框架

### SpringBoot框架

==这里最好也有个图，原理图==

Spring Boot是一个基于Spring框架的快速开发框架，它简化了Spring应用程序的配置和部署过程，使开发人员可以更快地构建出高效、可靠的应用程序。

Spring Boot的主要特点包括：

1.  简化配置：Spring Boot通过自动配置和约定大于配置的方式，大大简化了应用程序的配置过程。
    
2.  内嵌服务器：Spring Boot内置了Tomcat、Jetty和Undertow等Web服务器，使得应用程序可以直接运行，无需额外安装和配置。
    
3.  自动化依赖管理：Spring Boot通过Maven或Gradle等构建工具，自动管理应用程序所需的依赖库，使得开发人员可以更加专注于业务逻辑的实现。
    
4.  提供丰富的Starter：Spring Boot提供了大量的Starter，包括Web、数据访问、安全等，使得开发人员可以快速集成各种功能模块。
    
5.  提供Actuator：Spring Boot提供了Actuator，可以方便地监控和管理应用程序的运行状态。

总之，Spring Boot是一个非常强大的框架，可以帮助开发人员快速构建出高效、可靠的应用程序。

### MyBatis Plus 框架

MyBatis Plus是一个基于MyBatis的增强工具，它简化了MyBatis的开发流程，提供了许多常用的功能，如分页、自动填充、逻辑删除等，同时还提供了代码生成器，可以快速生成MyBatis的Mapper、Service、Controller等代码。

**MyBatis工作原理**

MyBatis的基本工作原理是先封装SQL，接着调用JDBC操作数据库，最后把数据库返回的表结果封装成Java类。MyBatis通过xml或注解的方式将要执行的各种statement配置起来，并通过java对象和statement中SQL的动态参数进行映射生成最终执行的SQL语句，最后由MyBatis框架执行SQL并将结果映射为Java对象并返回。MyBatis是一个半ORM框架，底层封装了JDBC，使开发者只需要关注SQL语句本身，而不需要花费精力去处理加载驱动、创建连接、创建statement等繁杂的过程。

![[assets/Pasted image 20230425084055.png]]

上面中流程就是 MyBatis 内部核心流程，每一步流程的详细说明如下文所述：

（1）读取 MyBatis 的配置文件。mybatis-config.xml 为 MyBatis 的全局配置文件，用于配置数据库连接信息。

（2）加载映射文件。映射文件即 SQL 映射文件，该文件中配置了操作数据库的 SQL 语句，需要在 MyBatis 配置文件 mybatis-config.xml 中加载。mybatis-config.xml 文件可以加载多个映射文件，每个文件对应数据库中的一张表。

（3）构造会话工厂。通过 MyBatis 的环境配置信息构建会话工厂 SqlSessionFactory。

（4）创建会话对象。由会话工厂创建 SqlSession 对象，该对象中包含了执行 SQL 语句的所有方法。

（5）Executor 执行器。MyBatis 底层定义了一个 Executor 接口来操作数据库，它将根据 SqlSession 传递的参数动态地生成需要执行的 SQL 语句，同时负责查询缓存的维护。

（6）MappedStatement 对象。在 Executor 接口的执行方法中有一个 MappedStatement 类型的参数，该参数是对映射信息的封装，用于存储要映射的 SQL 语句的 id、参数等信息。

（7）输入参数映射。输入参数类型可以是 Map、List 等集合类型，也可以是基本数据类型和 POJO 类型。输入参数映射过程类似于 JDBC 对 preparedStatement 对象设置参数的过程。

（8）输出结果映射。输出结果类型可以是 Map、List 等集合类型，也可以是基本数据类型和 POJO 类型。输出结果映射过程类似于 JDBC 对结果集的解析过程。

**MyBatis Plus简介**

![[assets/Pasted image 20230425084119.png]]

MyBatis Plus的主要特点包括：

1.  简化开发流程：MyBatis Plus提供了许多常用的功能，如分页、自动填充、逻辑删除等，可以大大简化开发流程。
    
2.  提高开发效率：MyBatis Plus提供了代码生成器，可以快速生成MyBatis的Mapper、Service、Controller等代码，提高开发效率。
    
3.  易于扩展：MyBatis Plus提供了许多扩展点，可以方便地扩展自定义功能。
    
4.  易于集成：MyBatis Plus与Spring Boot、Spring等框架集成非常方便。
    
5.  完善的文档和社区支持：MyBatis Plus提供了完善的文档和社区支持，可以方便地解决开发中遇到的问题。

## 前端框架

### Vue.js

==【这里最好加一个图】==

Vue.js是一个轻量级的JavaScript框架，用于构建交互式的Web界面。它的核心库只关注视图层，易于集成到其他项目中。Vue.js采用了MVVM（Model-View-ViewModel）的架构模式，通过数据绑定和组件化的思想，使得开发者可以更加高效地构建Web应用。

Vue.js的特点：

1.  响应式数据绑定：Vue.js采用了双向数据绑定的方式，当数据发生变化时，视图会自动更新。
    
2.  组件化开发：Vue.js将页面拆分成多个组件，每个组件都有自己的状态和行为，可以实现高度复用和灵活组合。
    
3.  轻量级：Vue.js的核心库只有20KB左右，非常轻量级，易于集成到其他项目中。
    
4.  易学易用：Vue.js的API非常简单易懂，学习曲线较低，上手非常容易。
    
5.  高效性能：Vue.js采用了虚拟DOM技术，可以最小化DOM操作，提高页面渲染效率。
    
6.  生态丰富：Vue.js拥有庞大的社区和生态系统，有大量的插件和工具可供选择。
    

Vue.js的使用场景：

1.  单页面应用（SPA）：Vue.js适合构建单页面应用，可以实现快速响应和流畅的用户体验。
    
2.  移动端应用：Vue.js可以与Cordova或Weex等移动端框架结合使用，开发跨平台的移动应用。
    
3.  中小型Web应用：Vue.js适合开发中小型的Web应用，可以快速构建出高质量的界面。
    

总之，Vue.js是一个非常优秀的JavaScript框架，具有响应式数据绑定、组件化开发、轻量级、易学易用、高效性能和生态丰富等特点，适合构建各种类型的Web应用。

### Vuex

Vue.js的官方状态管理库，用于管理应用程序中的所有状态。

### Vue Router

Vue.js的官方路由管理库，用于管理应用程序中的路由。

### Axios

一个基于Promise的HTTP客户端，用于在Vue.js应用程序中进行数据请求。

### Vue CLI

Vue.js的官方命令行工具，用于快速创建Vue.js应用程序。

### Element Plus

一个基于Vue.js的组件库，提供了丰富的UI组件和工具，用于创建现代化的Web应用程序。

### Echarts框架


