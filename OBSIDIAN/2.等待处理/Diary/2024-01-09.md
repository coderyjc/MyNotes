---
creation date: 2024-01-09 09:35
tags: DailyNote
cssclass: noyaml
week: 2024-02
---

# 2024-01-09

<< [[2024-01-08]] | [[2024-01-10]]>>

- [x] 统计笔记中的文字和文件个数



我想统计obsidian中的各种文件、文字的数量，因此让chatgpt给我生成了python脚本用于统计文字数量

```
我的笔记文件夹中可能包含后缀名为md的笔记文件，图片或者其他格式的文件，以及下一级的笔记文件夹，下一级的笔记文件夹中同样可能包含上述文件。
请你用python编写程序，有以下要求：
1. 统计各个文件类型的文件的个数。
2. 统计所有md笔记文件中的字数总和，其中字数分为中文汉字和英语单词。
```

以下是ChatGPT给出的答案

```python
import os
import markdown2
import re
from zhon import hanzi

def count_words_md(file_path):
    with open(file_path, 'r', encoding='utf-8') as file:
        content = file.read()

        # 统计中文字符数量
        chinese_characters = re.findall(f'[{hanzi.characters}]', content)

        # 统计英文单词数量
        english_words = re.findall(r'\b[A-Za-z]+\b', content)

        total_words = len(chinese_characters) + len(english_words)

        return total_words

def process_folder(folder_path):
    file_types_count = {}
    total_md_words = 0

    for root, dirs, files in os.walk(folder_path):
        for file in files:
            file_path = os.path.join(root, file)
            file_extension = file.split('.')[-1].lower()

            # 统计各个文件类型的数量
            file_types_count[file_extension] = file_types_count.get(file_extension, 0) + 1

            # 统计MD文件的字数
            if file_extension == 'md':
                total_md_words += count_words_md(file_path)

    return file_types_count, total_md_words

# 替换为你的笔记文件夹路径
note_folder_path = 'R:\code\github\MyNotes\OBSIDIAN'

file_types_count, total_md_words = process_folder(note_folder_path)

print("文件类型统计:")
for file_type, count in file_types_count.items():
    print(f"{file_type}: {count} 个文件")

print("\n所有MD文件字数总和:")
print(f"{total_md_words} 个字")

```