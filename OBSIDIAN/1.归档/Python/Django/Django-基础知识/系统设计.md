```ad-note
主要内容来自于 https://github.com/pythonzhichan/django-beginners-guide/blob/master/Fundamentals-1.md
```

## 系统设计

### 用例图

![[assets/Pasted image 20230226101350.png]]

### 类图

![[assets/Pasted image 20230226101441.png]]

图2：Web Board类图

-   Board：版块
-   Topic：主题
-   Post：帖子（译注：其实就是主题的回复或评论）

花点时间考虑模型之间如何相互关联也很重要。类与类之间的实线告诉我们，在一个主题（Topic）中，我们需要有一个字段（译注：其实就是通过外键来关联）来确定它属于哪个版块（Board）。同样，帖子（Post）也需要一个字段来表示它属于哪个主题，这样我们就可以列出在特定主题内创建的帖子。最后，我们需要一个字段来表示主题是谁发起的，帖子是谁发的。

用户和版块之间也有联系，谁创建的版块。但是这些信息与应用程序无关。还有其他方法可以跟踪这些信息，稍后您会看到。

现在我们的类图有基本的表现形式，我们还要考虑这些模型将承载哪些信息。这很容易让事情变得复杂，所以试着先把重要的内容列出来，这些内容是我们启动项目需要的信息。后面我们再使用 Django 的迁移（Migrations）功能来改进模型，您将在下一节中详细了解这些内容。

但就目前而言，这是模型最基本的内容：

![[assets/Pasted image 20230226101935.png]]

图3：强调类（模型）之间关系的类图

这个类图强调的是模型之间的关系，这些线条和箭头最终会在稍后转换为字段。

对于 **Board** 模型，我们将从两个字段开始：name 和 description。 name字段必须是唯一的，为了避免有重复的名称。description 用于说明这个版块是做什么用的。

**Topic** 模型包括四个字段：subject 表示主题内容，last_update 用来定义话题的排序，starter 用来识别谁发起的话题，board 用于指定它属于哪个版块。

**Post** 模型有一个 message 字段，用于存储回复的内容，created_at 在排序时候用（最先发表的帖子排最前面），updated_at 告诉用户是否更新了内容，同时，还需要有对应的 User 模型的引用，Post 由谁创建的和谁更新的。

最后是 User 模型。在类图中，我只提到了字段 username，password，email， is_superuser 标志，因为这几乎是我们现在要使用的所有东西。

需要注意的是，我们不需要创建 User 模型，因为Django已经在contrib包中内置了User模型，我们将直接拿来用。

![[assets/Pasted image 20230226102133.png]]

## 线框图

==主页==

![[assets/Pasted image 20230226102210.png]]

==主题==

![[assets/Pasted image 20230226102239.png]]

==新建话题==

![[assets/Pasted image 20230226102256.png]]

==讨论==

![[assets/Pasted image 20230226102310.png]]

==回复==

![[assets/Pasted image 20230226102319.png]]

