---
create_date: 2022-01-26
---

> 声明：由于官方文档是英文的，并且内容比较多，因此我用自己的话重写了一遍，内容多有省略，但是日常使用应该够用。
> 
> 默认大家都会JavaScript的基础知识
> 
> 所有内容来自官方文档  [https://blacksmithgu.github.io/obsidian-dataview/]( https://blacksmithgu.github.io/obsidian-dataview/)
> 
> 如有不同之处，请以官方文档为主。



Contents

- [[#Dataview 查询语言 (DQL)|Dataview 查询语言 (DQL)]]
- [[#内联 DQL|内联 DQL]]
- [[#Dataview JS|Dataview JS]]
- [[#内联数据视图 JS|内联数据视图 JS]]


# 创建查询

有4种方式实现这一点，并且在库update 的时候可以重新加载

## Dataview 查询语言 (DQL)

dataview查询语言是一种简单的、类似 SQL 的语言，用于快速创建视图的语言。它支持基本的算术和比较运算，适用于基本应用程序。您使用带注释的代码块创建数据视图查询`dataview`：

` ```dataview
TABLE rating AS "Rating", summary AS "Summary" FROM #games
SORT rating DESC
``` ` 

更多的内容请查看[[4.0.查询语言]]

## 内联 DQL

查询可以直接嵌入页面中
- 例如，今天的日期 `= date(today)`，或来自另一个页面的字段 `= [[Page]].value`

使用内联代码块创建内联查询：
`` `= this.file.name` `` 

内联 DQL 表达式是使用[查询语言表达式语言](https://blacksmithgu.github.io/obsidian-dataview/query/expressions)编写的。您可以在 Dataview 设置中配置内联查询以使用不同的前缀（如`dv:`或）。`~`

## Dataview JS

dataview[[5.0.JavascriptAPI]]为您提供 JavaScript 的全部功能，并提供用于拉取 Dataview 数据和执行查询的 DSL，允许您创建任意复杂的查询和视图。与查询语言类似，您可以通过带注释的代码块创建 Dataview JS 块`dataviewjs`：

` ```dataviewjs
let pages = dv.pages("#books and -#books/finished").where(b => b.rating >= 7);
for (let group of pages.groupBy(b => b.genre)) {
   dv.header(group.key);
   dv.list(group.rows.file.name);
}
``` ` 

`dv` 在 JS dataview 块中，您可以通过变量访问完整的 dataview API 

## 内联数据视图 JS

与查询语言类似，您可以编写 JS 内联查询，它可以让您直接嵌入计算出的 JS 值。您可以通过内联代码块创建 JS 内联查询：

`` `$= dv.current().file.mtime` `` 

在 inline DataviewJS 中，您可以访问`dv`变量，就像在代码块中访问`dataviewjs`，并且可以进行所有相同的调用。
结果应该被看作 JavaScript 值的结果，Dataview 将自动适当地呈现该值。