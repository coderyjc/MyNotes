---
create_date: 2022-01-26
---

> 声明：由于官方文档是英文的，并且内容比较多，因此我用自己的话重写了一遍，内容多有省略，但是日常使用应该够用。
> 
> 默认大家都会JavaScript的基础知识
> 
> 所有内容来自官方文档  [https://blacksmithgu.github.io/obsidian-dataview/]( https://blacksmithgu.github.io/obsidian-dataview/)
> 
> 如有不同之处，请以官方文档为主。


Contents

- [[#页面|页面]]
		- [[#隐式字段|隐式字段]]
- [[#任务清单|任务清单]]
		- [[#字段速记|字段速记]]
		- [[#隐式字段|隐式字段]]
- [[#字段类型|字段类型]]


# 数据注释

数据索引，支持的是字段。

---

## 页面

您可以通过三种不同的方式将字段添加到markdown页面：

1.  **Frontmatter**：Frontmatter 是一个常见的 Markdown 扩展，它允许将 YAML 元数据添加到页面顶部。所有 YAML 字段都将作为 Dataview 的字段：

`---
alias: "document"
last-reviewed: 2021-08-17
thoughts:
 rating: 8
 reviewable: false
---` 

2.  **内联字段**：Dataview 支持“内联的”字段，它提供了一种简单的`Key:: Value`语法，你可以直接将其嵌入到文件中：

`# Markdown Page
Basic Field:: Value
**Bold Field**:: Nice!` 

如果你想在句子中嵌入元数据，或者在同一行中嵌入多个字段，你可以使用括号语法：
`I would rate this a [rating:: 9]! It was [mood:: acceptable].` 

3.  **隐式**：Dataview 自动使用大量元数据注释页面，例如文件创建日期 (`file.cday` )、关联日期 ( `file.day`)、文件中的链接 ( `file.outlinks`)、标签 ( `file.tags`) 等。

一个简单的 Markdown 页面，有以下两种用户定义的添加元数据的方式：

`---
duration: 4 hours
reviewed: false
---`
`# Movie X
**Thoughts**:: It was decent.
**Rating**:: 6` 

#### 隐式字段

Dataview 会自动为每个页面添加大量元数据：

-   `file.name`：文件标题（字符串）。
-   `file.folder`：该文件所属文件夹的路径。
-   `file.path`：完整的文件路径（字符串）。
-   `file.link`：文件的链接（链接）。
-   `file.size`：文件的大小（以字节为单位）（数字）。
-   `file.ctime`：文件的创建日期（日期+时间）。
-   `file.cday`：文件的创建日期（日期）。
-   `file.mtime`：文件最后修改的日期（日期+时间）。
-   `file.mday`：文件最后修改的日期（日期）。
-   `file.tags`：笔记中所有唯一标签的数组。子标签按每个级别细分，因此`#Tag/1/A`将存储在数组中`[#Tag, #Tag/1, #Tag/1/A]`。
-   `file.etags`：注释中所有显式标签的数组；不和`file.tags`一样, 不包括子标签。
-   `file.inlinks`：此文件的所有传入链接的数组。
-   `file.outlinks`：此文件中所有传出链接的数组。
-   `file.aliases`：笔记的所有别名的数组。
-   `file.tasks`：此文件中所有任务（即，- [  ] blah blah blah）的数组。

如果文件在其标题（或表单`yyyy-mm-dd`或`yyyymmdd`）中有日期，或者有一个`Date`字段/内联字段，它还具有以下属性：

-   `file.day`：与文件关联的日期。

---

## 任务清单

使用内联字段语法使用元数据注释您的任务清单（即表单的行）：`- [ ] blah blah blah`
```text
- [ ] Hello, this is some [metadata:: value]!
- [X] I finished this on [completion::2021-08-15].
```

#### 字段速记

为了支持“常见用例”，Dataview 了解一些常见数据的简写，您可能希望使用以下命令注释任务：

语法

-   截止日期：`🗓️YYYY-MM-DD`
-   完成日期：`✅YYYY-MM-DD`
-   创建日期：`➕YYYY-MM-DD`

如果你不喜欢表情符号，可以对这些字段进行文本注释（`[due:: ]`、`[created:: ]`、 `[completion:: ]`）。

#### 隐式字段

与页面一样，Dataview 为每个任务添加了许多隐式字段：

-   任务从其父页面继承所有字段， 因此，如果页面中有一个字段，也可以在任务中访问它。
-   `completed`：这个 _特定的_ 任务是否已经完成；这不考虑任何子任务的完成/未完成。
-   `fullyCompleted`：此任务及其**所有**子任务是否已完成。
-   `text`: 这个任务的文本
-   `line`：此任务显示的行
-   `path`：此任务所在文件的完整路径。
-   `section`：此任务所在部分的链接。
-   `link`: 指向该任务附近最近的可链接块的链接；对于制作指向任务的链接很有用。
-   `subtasks`：此任务的所有子任务。
-   `real`: 如果是true，这是一个真正的任务；否则，它是任务上方/下方的列表元素。
-   `completion`：任务完成的日期。如果没有注释，将默认为文件修改时间。
-   `due`：任务的到期日期（如果有的话）。
-   `created`：创建任务的日期。如果没有注释，则默认为文件创建时间。
-   `annotated`：如果任务有任何自定义注释，则为真，否则为假。

---

## 字段类型

dataview 中的所有字段都有一个 _type_ ，它决定了 dataview 将如何呈现、排序和操作该字段。Dataview 了解几种不同的字段类型以涵盖常见用例：

-   **文本**：默认的。如果字段不匹配更具体的类型，则它只是纯文本。
    
    `Example:: This is some normal text.` 
    
-   **Number** : 像 '6' 和 '3.6' 这样的数字。
    
    `Example:: 6
    Example:: 2.4
    Example:: -80` 
    
-   **Boolean** : true/false，逻辑值
    
    `Example:: true
    Example:: false` 
    
-   **日期**：ISO8601日期的一般形式`YYYY-MM[-DDTHH:mm:ss.nnn+ZZ]`。月后的一切都是可选的。
    
    `Example:: 2021-04-18
    Example:: 2021-04-18T04:19:35.000
    Example:: 2021-04-18T04:19:35.000+06:30` 
    
-   **持续时间**：`<time> <unit>`表单的持续时间，例如`6 hours`或`4 minutes`。常见的英文缩写如 `6hrs`or`2m` 您可以使用可选的逗号分隔符指定多个单位：`6 hours, 4 minutes` 或 `6hr4min`.
    
    `Example:: 7 hours
    Example:: 4min
    Example:: 16 days
    Example:: 9 years, 8 months, 4 days, 16 hours, 2 minutes
    Example:: 9 yrs 8 min` 
    
-   **链接**：普通Obsidian链接，如`[[Page]]`或`[[Page|Page Display]]`。
    -   如果你在 frontmatter 中引用链接，则需要引用它，如下所示：`key: "[[Link]]"`. 这是默认的 Obsidian 支持的行为。
        
        `Example:: [[A Page]]
        Example:: [[Some Other Page|Render Text]]` 
        
-   **List**：其他数据视图字段的列表。在 YAML 中，这些被定义为正常的 YAML 列表；对于内联字段，它们只是逗号分隔的列表。
    
    `Example:: 1, 2, 3
    Example:: "yes", "or", "no"` 
    
-   **对象**：名称到数据视图字段的映射。这些只能在 YAML frontmatter 中定义，使用正常的 YAML 对象语法：
    
    `field:
      value1: 1
      value2: 2
      ...`