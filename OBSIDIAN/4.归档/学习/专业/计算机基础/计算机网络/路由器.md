### 路由器的功能和原理？

**功能**：连接不同的网络进行分组转发，路由计算。前者处理通过路由器的数据流，关键操作是转发表查询、转发及相关的队列管理和任务调度等：后者通过和其他路由器进行基于路由协议的交互，完成路由表的计算。

原理：

1. **路由选择**部分也称控制部分，其核心构件是路由选择处理机。路由选择处理机的任务是根据所选定的路由选择协议**构造出路由表**，同时经常或定期地和相邻路由器交换路由信息而不断更新和维护路由表。

2. **分组转发**部分由三部分组成：交换结构、一组输入端口和一组输出端口。输入端口在从物理层接收到的比特流中提取出数据链路层顿，进而从顿中提取出网络层数据报，输出端口则执行恰好相反的操作。交换结构是路由器的关键部件，它根据转发表对分组进行处理，将某个输入端口进入的分组从一个合适的输出端口转发出去。

### 路由器工作在网络分层中的哪个层次？

路由器通常工作在OSI模型的第三层，即网络层。在TCP/IP模型中，网络层对应于Internet协议（IP）层。

路由器的主要功能是根据目标IP地址转发数据包，使其能够在不同的网络之间进行通信。它通过查找路由表来确定数据包应该被发送到哪个接口以及下一跳的路由器，从而实现网络间的数据转发。