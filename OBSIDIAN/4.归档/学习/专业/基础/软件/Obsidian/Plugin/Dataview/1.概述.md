
> 声明：由于官方文档是英文的，并且内容比较多，因此我用自己的话重写了一遍，内容多有省略，但是日常使用应该够用。
> 
> 默认大家都会JavaScript的基础知识
> 
> 所有内容来自官方文档  [https://blacksmithgu.github.io/obsidian-dataview/]( https://blacksmithgu.github.io/obsidian-dataview/)
> 
> 如有不同之处，请以官方文档为主。


Contents

- [[#基本用法|基本用法]]
	- [[#注释|注释]]
	- [[#查询|查询]]


## 基本用法

Dataview 有两个主要组件：_注释_ 和 _查询_ 

### 注释

Dataview**索引**负责不断解析您的知识库中的 markdown 文件和其他元数据，创建一个内存索引，以便对数据进行快速查询。注释在 _markdown 页面_ 、_段落_ 和 _task_ 级别完成，可以在其中使用：

1.  **Frontmatter**，一个常见的 Markdown 扩展，允许在文档顶部添加任意YAML）：
```yaml
---
alias: "document"
last-reviewed: 2021-08-17
thoughts:
rating: 8
reviewable: false
---
```

2.  **内联字段**，一种特定于 Dataview 的方式，以直观的`Key::Value`语法提供元数据：
```text
# Markdown Page

Basic Field:: Value
**Bold Field**:: Nice!

- [ ] I am a task with [metadata::value]!
	- [X] I am another task with completed::2020-09-15
```

如果需要，您可以结合使用这两种方法。Dataview 还添加了大量“隐式”字段，例如`file.name`文件名、`file.size`大小等；

你可以在[数据注释文档](https://blacksmithgu.github.io/obsidian-dataview/data-annotation)中找到更多详细信息。

### 查询

一旦你有一些你已经注释的页面，剩下要做的就是查询它们以创建动态表、列表或 JavaScript 视图。

有四种方法可以做到这一点：

1.  **Dataview Query Language (DQL)**：类似 SQL 的语言。请参阅[[3.数据查询]]
` ```dataview
TABLE file.name AS "File", rating AS "Rating" FROM #book
``` ` 

undefined **内联表达式**：可以直接嵌入到 Markdown 中的 DQL 表达式，并将在预览模式下显示。请参阅[[3.数据查询]]

``We are on page `= this.file.name`.`` 

3.  **DataviewJS**：一个高性能的 JavaScript API，它可以完全访问 Dataview 索引和一些方便的渲染实用程序。**如果了解 JavaScript，强烈推荐，因为它比查询语言强大得多**。查看[[5.0.JavascriptAPI]]以获取更多详细信息。
` ```dataviewjs
dv.taskList(dv.pages().file.tasks.where(t => !t.completed));
``` ` 

4.  **内联 JS 表达式**：相当于内联表达式的 JavaScript，它允许您执行任意 JS 内联：
``This page was last modified at `$= dv.current().file.mtime`.``
