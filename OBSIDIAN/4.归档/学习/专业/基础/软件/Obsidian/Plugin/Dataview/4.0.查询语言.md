

> 声明：由于官方文档是英文的，并且内容比较多，因此我用自己的话重写了一遍，内容多有省略，但是日常使用应该够用。
> 
> 默认大家都会JavaScript的基础知识
> 
> 所有内容来自官方文档  [https://blacksmithgu.github.io/obsidian-dataview/]( https://blacksmithgu.github.io/obsidian-dataview/)
> 
> 如有不同之处，请以官方文档为主。


Contents

- [[#例子|例子]]
- [[#查询|查询]]
- [[#表达式|表达式]]
- [[#字面量|字面量]]
- [[#来源|来源]]
- [[#函数|函数]]


## 例子



## 查询

Dataview查询语言是一种简单的、结构化的、自定义的查询语言，用于快速创建数据的视图。支持：

-   提取与标签、文件夹、链接等相关的页面。
-   通过对字段的简单操作过滤页面/数据，如比较、存在性检查等。
-   根据字段对结果进行排序。

该查询语言支持以下视图类型，描述如下：

1.  **表格(TABLE)**：传统的视图类型；每个数据为一行，字段数据为一列。
2.  **列表(LIST)**：匹配查询页面的列表。你可以为每个页面输出一个单一的关联值。
3.  **任务列表(TASK)**：匹配给定查询的任务列表。

**一般格式**

` ```dataview
TABLE|LIST|TASK <field> [AS "Column Name"], <field>, ..., <field> 
FROM <source> (like #tag or "folder") 
WHERE <expression> (like 'field = value') 
SORT <expression> 
[ASC/DESC] (like 'field ASC') ... other data commands 
``` `

- 只有select 语句是必须的
- 按照顺序运行
- 允许重复多个where
- from可以从任何source中选择

查询类型和数据命令请查看[[4.1.查询]]


## 表达式

表达式：能够产生值的量

```text
# 常规
field               (directly refer to a field)
simple-field        (refer to fields with spaces/punctuation in them like "Simple Field!")
a.b                 (if a is an object, retrieve field named 'b')
a[expr]             (if a is an object or array, retrieve field with name specified by expression 'expr')
f(a, b, ...)        (call a function called `f` on arguments a, b, ...)

# 算术运算
a + b               (addition)
a - b               (subtraction)
a * b               (multiplication)
a / b               (division)

# 比较运算
a > b               (check if a is greater than b)
a < b               (check if a is less than b)
a = b               (check if a equals b)
a != b              (check if a does not equal b)
a <= b              (check if a is less than or equal to b)
a >= b              (check if a is greater than or equal to b)

# 特殊操作
[[Link]].value      (fetch `value` from page `Link`)
```

### 表达式类型

字符串型、字面值型、算数型、比较型、数组对象索引、函数调用、lambda表达式型

**特定类型的交互和值**

大多数dataview类型都有和运算符的特定的操作，或者有额外的能被引用的属性

Date
- date.year
- date.month
- date.day
- date.hour
- date.minute
- date.second
- date.week

Durations
- duration.years
- duration.months
- duration.days
- duration.hours\\minutes\\seconds

Links
`[[Link]].value`


## 字面量(字面值)

字面量是表示常量的表达式

包括一般类型、日期类型、持续时间类型

具体情况在[[4.2.字面值]]


## source

dataview的source定义了一系列的file task 或者其他的数据对象

source 被Dataview内部引用，它支持3种source类型

1. tag `#tag`
2. 目录 `"folder"`
3. 特定文件 `"folder/file.md"`
4. 同名的目录和文件、优先选择目录，可以添加md后缀
5. 进入或者连出文件的链接
6. 要引用连接到文件的链接的话，应该使用 `[[note]]`，也可以使用`[[]]` 引用本文件
7. 引用从文件中射出的链接，使用`outgoing([[note]])`

可以使用and、or链接这些过滤器


## 函数

函数提供了更高级的功能，具体函数查看[[4.3.函数]]

