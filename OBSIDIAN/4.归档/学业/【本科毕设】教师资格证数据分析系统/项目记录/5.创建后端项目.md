初始选择了
- LomBok
- Spring Web
- MySQL Driver

![[assets/Pasted image 20230401153410.png]]

---

1. 整合MYSQL
	1. mysql链接
	2. druid数据库连接池

下载数据库驱动的时候出现问题 - [[../../../学习/专业/软件/IDEA/IDEA-解决方案/下载MySQL驱动太慢|手动下载数据库驱动]] 

2. 整合[MyBatis-Plus](https://baomidou.com/)


3. 逆向工程直接生成代码

遇到错误 NoClassDefFoundError: org/apache/velocity/context/Context，解决方案：[[../../../学习/专业/Java后端/spring/MyBatisPlus/MyBatisPlus-NoClassDefFoundError]]


4. 运行项目测试

遇到错误 org.springframework.beans.factory.UnsatisfiedDependencyException:

原因是 java.io.IOException: Failed to parse mapping resource

```
org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'certificationServiceImpl': Unsatisfied dependency expressed through field 'baseMapper': Error creating bean with name 'certificationMapper' defined in file [D:\code\github\certificate_analysis\certificate_analysis\backend\certificate\target\classes\top\coderyjc\certificate\mapper\CertificationMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: class path resource [src/main/resources/mapper/*Mapper.xml] cannot be opened because it does not exist

Caused by: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'certificationMapper' defined in file [D:\code\github\certificate_analysis\certificate_analysis\backend\certificate\target\classes\top\coderyjc\certificate\mapper\CertificationMapper.class]: Unsatisfied dependency expressed through bean property 'sqlSessionFactory': Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: class path resource [src/main/resources/mapper/*Mapper.xml] cannot be opened because it does not exist

Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'sqlSessionFactory' defined in class path resource [com/baomidou/mybatisplus/autoconfigure/MybatisPlusAutoConfiguration.class]: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: class path resource [src/main/resources/mapper/*Mapper.xml] cannot be opened because it does not exist

Caused by: org.springframework.beans.BeanInstantiationException: Failed to instantiate [org.apache.ibatis.session.SqlSessionFactory]: Factory method 'sqlSessionFactory' threw exception with message: class path resource [src/main/resources/mapper/*Mapper.xml] cannot be opened because it does not exist

Caused by: java.io.FileNotFoundException: class path resource [src/main/resources/mapper/*Mapper.xml] cannot be opened because it does not exist
```

其中  

```
class path resource [src/main/resources/mapper/*Mapper.xml] cannot be opened because it does not exist
```

考虑是因为maven没有配置生成resource资源

原理和 [[../../../学习/专业/Java后端/spring/MyBatis/MyBatis-基础知识/MyBatis#创建主配置文件]] 类似

```xml

	<build>
		<resources>
			<resource>
				<directory>src/main/java</directory>
				<includes>
					<include>**/*.properties</include>
					<include>**/*.xml</include>
				</includes>
			</resource>

			<resource>
				<directory>src/main/resources</directory>
				<includes>
					<include>**/*.xml</include>
					<include>**/*.properties</include>
				</includes>
			</resource>
		</resources>
	</build>

```


然后发生了如下错误：

```
***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).

```


大概明白了，应该是数据库没有设置主键。


破案了。数据库字段名不能有中文。

